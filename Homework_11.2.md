# Bank widget

## Описание
IT-отдел крупного банка делает новую фичу для личного кабинета клиента. 
Это виджет, который показывает несколько последних успешных банковских операций клиента. 
Вам доверили реализовать этот проект, который на бэкенде будет готовить данные для отображения в новом виджете.

## Инструкции
Продолжаем работу над проектом. Необходимо разработать декоратор `log`, который будет автоматически регистрировать детали выполнения функций, 
такие как время вызова, имя функции, передаваемые аргументы, результат выполнения и информация об ошибках. 
Это позволит обеспечить более глубокий контроль и анализ поведения программы в процессе ее выполнения.

# Задачи:

1. Создайте новый модуль в вашем проекте, который будет называться **decorators**. 
Этот модуль будет использоваться для размещения декораторов, включая декоратор `log`.

2. Напишите декоратор `log`, который будет автоматически логировать начало и конец выполнения функции, а также ее результаты или возникшие ошибки.
Декоратор должен принимать необязательный аргумент `filename`, который определяет, куда будут записываться логи (в файл или в консоль):
- Если `filename` задан, логи записываются в указанный файл.
- Если `filename` не задан, логи выводятся в консоль.

Логирование должно включать:
+ Имя функции и результат выполнения при успешной операции.
+ Имя функции, тип возникшей ошибки и входные параметры, если выполнение функции привело к ошибке.

``` Пример использования декоратора
@log(filename="mylog.txt")
def my_function(x, y):
    return x + y

my_function(1, 2)
```
Ожидаемый вывод в лог-файл `mylog.txt` при успешном выполнении:
`my_function ok`

Ожидаемый вывод при ошибке:
`my_function error: тип ошибки. Inputs: (1, 2), {}`
Где тип ошибки заменяется на текст ошибки.

3. Напишите генератор `transaction_descriptions`, который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.

``` Пример использования функции
descriptions = transaction_descriptions(transactions)
for _ in range(5):
    print(next(descriptions))

>>> Перевод организации
    Перевод со счета на счет
    Перевод со счета на счет
    Перевод с карты на карту
    Перевод организации
```

4. Используйте _pytest_ для написания тестов, проверяющих функциональность декоратора.
- Для тестирования вывода в консоль примените фикстуру `capsys`, которая позволяет перехватывать вывод данных в консоль.
- Убедитесь, что тесты покрывают различные сценарии использования декоратора, включая успешное выполнение функций и обработку исключений.

###### * 5. Дополнительное задание к проекту
Типизируйте написанный код и добейтесь того, чтобы _mypy_ при запуске не выдавал ошибок.

`Дополнительное задание, помеченное звездочкой, желательно, но не обязательно выполнять.`